window.onload=function(){function o(){return E[Math.floor(Math.random()*E.length)]}function n(){M=l(),console.log("START"),g.addEventListener("mousemove",function(o){b.pos.x=Math.max(0,Math.min(o.clientX-24,x)),o.clientX<360&&t()},!1),g.addEventListener("click",function(o){L.push(h(b.pos.x+24,b.pos.y-m,"#333333"))},!1),c()}function t(){B=Date.now(),D=(B-k)/1e3,k=B,u.width=u.width,X=b,b.blocks.forEach(r),X=M,M.blocks.forEach(r),X={pos:{x:0,y:0}},L.forEach(r),L.forEach(function(o){o.dead||(o.y-=p*D*.3,i(o.y,M.pos.y-40,M.pos.y)&&i(o.x,M.pos.x-m,M.pos.x+56)&&(e(),o.dead=!0),o.y<50&&(o.dead=!0))}),M.pos.x+=75*(M.right?D:-D),i(M.pos.x,0,x)||(M.right=!M.right,M.pos.x+=M.right?5:-5),M.pos.y+=16*D,M.pos.y>=b.pos.y&&(e(),C=[]),A.forEach(a),A.forEach(function(o){o.dead||(o.a-=2*D,o.x+=30*(o.vx+2*Math.random()-1)*D*(o.a+.2),o.y+=30*(o.vy+7*Math.random()-3)*D*(o.a+.2),o.vr+=3*D*(1-o.a),o.a<=0&&(o.dead=!0))}),C.forEach(r)}function e(){M.blocks.forEach(function(n){n.vx=n.x/m-4,n.vy=n.y/m+4,n.x+=M.pos.x,n.y+=M.pos.y,n.clr=o(),n.vr=0,A.push(n)}),M=l(),C.push(h(C.length*m,p-m,"#000000")),A.length>500&&s()}function a(o){o.dead||(y.save(),y.translate(o.x,o.y),y.rotate(o.vr),y.scale(1.5*o.a,1.5*o.a),y.beginPath(),y.rect(-4,-4,m,m),y.fillStyle=o.clr,y.fill(),y.restore())}function r(o){o.dead||(y.beginPath(),y.rect(Math.floor(X.pos.x+o.x),Math.floor(X.pos.y+o.y),m,m),y.fillStyle=o.clr,y.fill())}function c(){t(),requestAnimationFrame(c)}function i(o,n,t){return n>o||o>t?!1:!0}function s(){var o=[];A.forEach(function(n){0==n.dead&&o.push(n)}),S=0,A=o}function h(o,n,t){return{x:o,y:n,a:1,clr:t,dead:!1}}function d(o,n,t){for(var e=0;e<o.length;e+=2)n.push(h(o[e]*m,o[e+1]*m,t))}function l(){var n={pos:{x:Math.floor(30+300*Math.random()),y:150},blocks:[],right:!0};return d(w,n.blocks,o()),n}var f=!!window.chrome&&!!window.chrome.webstore;if(f){var u=document.getElementById("canvas"),y=u.getContext("2d");const p=window.innerHeight,v=window.innerWidth;u.width=Math.min(450,v),u.height=p;const m=8,x=330,E=["#FF0000","#49DB24","#4013F4","#FFCC1A","#FA30BE","#2BD5FF","#D81FB4","#FCB347","#DAFE45","#FC2E58","#D94848","#3CE6C4","#36EB48","#63A4BE"];var g=document.getElementById("body");const w=[0,0,7,0,1,-1,6,-1,2,-2,3,-2,4,-2,5,-2,1,-3,3,-3,4,-3,6,-3,1,-4,2,-4,3,-4,4,-4,5,-4,6,-4,2,-5,3,-5,4,-5,5,-5,3,-6,4,-6],F=[0,0,1,0,2,0,3,0,4,0,5,0,6,0,0,1,1,1,2,1,3,1,4,1,5,1,6,1,3,-1];var b={pos:{x:20,y:p-40},blocks:[]};d(F,b.blocks,"#333333");var M,B=Date.now(),D=0,k=B,C=[],A=[],L=[],S=0,X=null;g.addEventListener("mousemove",function(o){o.clientX<360&&Date.now()-B>50&&(k=Date.now(),g.removeEventListener("mousemove",arguments.callee),n())},!1)}};