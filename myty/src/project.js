require=function t(e,n,i){function o(c,a){if(!n[c]){if(!e[c]){var r="function"==typeof require&&require;if(!a&&r)return r(c,!0);if(s)return s(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){var n=e[c][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[c].exports}for(var s="function"==typeof require&&require,c=0;c<i.length;c++)o(i[c]);return o}({AnswerButton:[function(t,e,n){"use strict";cc._RF.push(e,"25bf1FTAv9OGZ9Z0ctRAvBi","AnswerButton"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},data:{"default":null,visible:!1}},onLoad:function(){this.node.on("mouseenter",this._onTouchStart,this),this.node.on("mouseleave",this._onTouchEnd,this)},setText:function(t){this.label.string=t;var e=t.indexOf("\n"),n=t.lastIndexOf("\n");e>0&&n!=e?this.node.height=120:e>0?this.node.height=80:this.node.height=60},_onTouchStart:function(t){this.activeTouch={time:Date.now},this.label.node.color=this.getClr("#d2ba92"),console.log(this.label.node),cc._canvas.style.cursor="pointer"},getClr:function(t){var e=new cc.Color;return e.fromHEX(t),e},_onTouchEnd:function(t){this.activeTouch&&(this.label.node.color=this.getClr("#BF2523"),this.activeTouch=null),cc._canvas.style.cursor="default"}}),cc._RF.pop()},{}],ClickWithLabelMove:[function(t,e,n){"use strict";cc._RF.push(e,"0b7aaleFtZLUpf4iO/QCCJD","ClickWithLabelMove"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Node},targetY:0,origY:{visible:!1,"default":1},targetX:0,origX:{visible:!1,"default":1},activeTouch:{visible:!1,"default":null},origScale:{visible:!1,"default":1},sprite:{visible:!1,"default":1},startEnabled:!0,targetScale:1,clickEvent:{"default":null,type:cc.Component.EventHandler},normalSprite:{"default":null,visible:!1},hoverSprite:{"default":null,type:cc.SpriteFrame},pressedSprite:{"default":null,type:cc.SpriteFrame}},onLoad:function(){this.origScale=this.node.scale,this.origY=this.label.y,this.origX=this.label.x,this.sprite=this.node.getComponent(cc.Sprite),this.normalSprite=this.sprite.spriteFrame,this.startEnabled&&this.enableTouch()},enableTouch:function(){this.node.on("touchstart",this._onTouchStart,this),this.node.on("touchend",this._onTouchEnd,this),this.node.on("touchcancel",this._onTouchCancel,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},_onMouseMoveIn:function(t){cc._canvas.style.cursor="pointer"},_onMouseMoveOut:function(t){cc._canvas.style.cursor="default"},disableTouch:function(){this.node.off("touchstart",this._onTouchStart,this),this.node.off("touchend",this._onTouchEnd,this),this.node.off("touchcancel",this._onTouchCancel,this)},_onTouchStart:function(t){return this.activeTouch={time:Date.now,start:t.touch.getLocation()},this.node.scale=this.targetScale*this.origScale,this.label.y=this.targetY,this.label.x=this.targetX,this.pressedSprite&&(this.sprite.spriteFrame=this.pressedSprite),!1},_onTouchEnd:function(t){if(this.activeTouch){var e=t.touch.getLocation();this.node.scale=this.origScale,this.label.y=this.origY,this.label.x=this.origX,this.sprite.spriteFrame=this.normalSprite;var n=Math.abs(this.activeTouch.start.x-e.x);if(n>30)return!1;var i=Date.now-this.activeTouch.time;if(i>.5)return!1;cc._canvas.style.cursor="default",this.node.emit(MTEvents.CLICKED);var o=this.clickEvent;if(o){var s=o.target.getComponent(o.component),c=s[o.handler];c.bind(s)()}return this.activeTouch=null,!0}},_onTouchCancel:function(){this.node.scale=this.origScale,this.label.y=this.origY,this.label.x=this.origX,this.sprite.spriteFrame=this.normalSprite,this.activeTouch=null}}),cc._RF.pop()},{}],ClickWithScale:[function(t,e,n){"use strict";cc._RF.push(e,"f38faz/KyxEApLr/5iahAgb","ClickWithScale"),cc.Class({"extends":cc.Component,properties:{activeTouch:{visible:!1,"default":null},origScale:{visible:!1,"default":1},startEnabled:!0,targetScale:.95,clickEvent:{"default":null,type:cc.Component.EventHandler}},onLoad:function(){this.origScale=this.node.scale,this.startEnabled&&this.enableTouch()},enableTouch:function(){this.node.on("touchstart",this._onTouchStart,this),this.node.on("touchend",this._onTouchEnd,this),this.node.on("touchcancel",this._onTouchCancel,this)},disableTouch:function(){this.node.off("touchstart",this._onTouchStart,this),this.node.off("touchend",this._onTouchEnd,this),this.node.off("touchcancel",this._onTouchCancel,this)},_onTouchStart:function(t){return this.activeTouch={time:Date.now,start:t.touch.getLocation()},this.node.scale=this.targetScale*this.origScale,!1},_onTouchEnd:function(t){if(this.activeTouch){var e=t.touch.getLocation();this.node.scale=this.origScale;var n=Math.abs(this.activeTouch.start.x-e.x);if(n>30)return!1;var i=Date.now-this.activeTouch.time;if(i>.5)return!1;this.node.emit(MTEvents.CLICKED);var o=this.clickEvent;if(o){var s=o.target.getComponent(o.component),c=s[o.handler];c.bind(s)()}return this.activeTouch=null,!0}},_onTouchCancel:function(){this.node.scale=this.origScale,this.activeTouch=null}}),cc._RF.pop()},{}],Dialog1:[function(t,e,n){"use strict";cc._RF.push(e,"17458Ud8ZhEAbI0jc1jHj5y","Dialog1");var i=t("AnswerButton"),o=t("EvaluationDialog");cc.Class({"extends":cc.Component,properties:{headline:{"default":null,type:cc.Node},text:{"default":null,type:cc.Node},smiley:{"default":null,type:cc.Node},faces:[cc.SpriteFrame],button:{"default":null,type:cc.Prefab},data:{visible:!1,"default":null},buttons:{visible:!1,"default":null},overlay:{"default":null,type:cc.Node}},onLoad:function(){this.buttons=[]},showWithData:function(t){this.data=t,this.node.active=!0,this.smiley.getComponent(cc.Sprite).spriteFrame=this.faces[t.smileyType],this.headline.getComponent(cc.Label).string=t.headline.toUpperCase(),t.headline.indexOf("\n")>0?(this.headline.parent.y=220,this.headline.y=24):(this.headline.y=44,this.headline.parent.y=186),this.setTextFromTree(t.tree),this.showTreeAnswers(t.tree),this.overlay.active=!0},setTextFromTree:function(t){this.text.getComponent(cc.Label).string=t.text},showTreeAnswers:function(t){for(var e=0;e<this.buttons.length;e++){var n=this.buttons[e];n.isValid&&n.destroy()}this.buttons.length=0;for(var o=0,e=0;e<t.answers.length;e++){var s=cc.instantiate(this.button),c=s.getComponent(i),a=t.answers[e];c.setText(a.text),c.data=a,s.y=o-s.height/2-10,o-=s.height+10,s.x=8,this.node.addChild(s),s.on("click",this.onAnswered,this),this.buttons.push(s)}},onAnswered:function(t){var e=t.currentTarget,n=e.getComponent(i),o=n.data;o.tree?(this.setTextFromTree(o.tree),this.showTreeAnswers(o.tree)):this.showEvaluation(o.evaluation)},showEvaluation:function(t){for(var e=null,n=this.data.evaluations,i=0;i<n.length;i++)if(n[i].id==t){e=n[i];break}if(!e)throw new Error("Evaluation not found, id:"+t);this.node.emit(MTEvents.EVALED,e),console.log(e);var s=this.node.parent.getChildByName("Evaluation");s.active=!0;var c=s.getComponent(o);c.showWithData(e),this.hide()},hide:function(){this.node.active=!1}}),cc._RF.pop()},{AnswerButton:"AnswerButton",EvaluationDialog:"EvaluationDialog"}],EndScene:[function(t,e,n){"use strict";cc._RF.push(e,"0cbae4KYMlIFobR1lIhW1GO","EndScene");var i=t("Score");cc.Class({"extends":cc.Component,properties:{},start:function(){var t=GameManager.lastScore;if(t)for(var e=this.node.getChildByName("score").getComponent(i),n=0;n<t.length;n++)e.addScore(t[n])},onRepeat:function(){cc.director.loadScene("gameScene")},shareFB:function(){return FB?void FB.ui({method:"share",mobile_iframe:!0,href:"https://developers.facebook.com/docs/"},function(t){}):void console.log("FB not found")}}),cc._RF.pop()},{Score:"Score"}],EvaluationDialog:[function(t,e,n){"use strict";cc._RF.push(e,"4d761+qMv1LLbUPN5I57fLx","EvaluationDialog"),cc.Class({"extends":cc.Component,properties:{text:{"default":null,type:cc.Node},nextBtn:{"default":null,type:cc.Node},overlay:{"default":null,type:cc.Node},addit:{"default":null,visible:!1},sourceDialog:{"default":null,type:cc.Node},data:{visible:!1,"default":null}},onLoad:function(){},showWithData:function(t){if(cc._canvas.style.cursor="default",this.node.active=!0,this.text.getComponent(cc.Label).string=t.text,this.nextBtn.on("click",this.onNextClicked,this),0===t.type.indexOf("eval")){var e=this.node.getChildByName("parts");e.active=!0,this.addit=e.getChildByName(t.type),this.addit&&(this.addit.active=!0)}else{var e=this.node.getChildByName("parts");e.active=!1}this.data=t},onNextClicked:function(){this.node.parent.emit(MTEvents.COMPLETE),this.addit&&(this.addit.active=!1),GameManager.currentData=null,this.overlay.active=!1,this.node.active=!1},showSourceInfo:function(){this.sourceDialog.active=!0,this.sourceDialog.getComponent("SourceDialog").showLinks(GameManager.currentData.sources)}}),cc._RF.pop()},{}],Factman:[function(t,e,n){"use strict";cc._RF.push(e,"4dc17VfJPRPHKXsqvI9jzvs","Factman"),cc.Class({"extends":cc.Component,properties:{swaying:{"default":null,visible:!1}},onLoad:function(){this.swaying=this.node.getComponent("Swaying")},onEnable:function(){this.node.x=415,this.node.y=156,this.swaying.pause();var t=cc.moveBy(2,20,10);t.easing(cc.easeExponentialOut()),this.node.runAction(t);var e=this;setTimeout(function(){e.swaying.resume()},2010)}}),cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"f30bfv587dMhrQUL2Ks6/Rs","GameManager"),window.GameManager={data:null,lastScore:null,currentData:null,onLoad:function(){cc.view.enableRetina(!0);var t=this;cc.loader.load(cc.url.raw("resources/questions.json"),function(e,n){e?cc.log("loading error:"+e):cc.log("loaded succesfully!"),t.data=n,console.log(n)})}},cc._RF.pop()},{}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"7e8d8Jzlv9J4J2X7NIapfQg","GameScene");var i=t("Score");cc.Class({"extends":cc.Component,properties:{psn:[cc.String],numRounds:{visible:!1,"default":0},scoreComp:{"default":null,type:i},score:{visible:!1,"default":null},factman:{"default":null,type:cc.Node}},onLoad:function(){window.GameManager.onLoad(),this.node.on(MTEvents.COMPLETE,this.setNewRound,this);var t=this.node.getChildByName("Dialog");t.active=!1;var e=this.node.getChildByName("Evaluation");e.active=!1,this.score=[]},startGame:function(){var t=cc.find("Canvas/Map/icons");t.active=!0,t=cc.find("Canvas/Map/manace"),t.active=!0,t=cc.find("Canvas/factman"),t.active=!0},setNewRound:function(){var t=cc.find("Canvas/Map/manace");if(this.numRounds>=6)return t.active=!1,void this.gameEnd();var e=this.psn[Math.floor(this.psn.length*Math.random())],n=e.split(" ");t.x=parseInt(n[0]),t.y=parseInt(n[1]),this.factman.active=!0},onMenace:function(){if(!GameManager.currentData){var t=window.GameManager.data,e=t[this.numRounds%t.length];GameManager.currentData=e;var n=this.node.getChildByName("Dialog");n.getComponent("Dialog1").showWithData(e),n.active=!0,n.on(MTEvents.EVALED,this.roundFinished,this),this.factman.active=!1}},roundFinished:function(t){this.numRounds++,this.scoreComp.addScore(t.detail.score),this.score.push(t.detail.score)},gameEnd:function(){GameManager.lastScore=this.score;var t=this.node.getChildByName("overlay5");t.active=!0,console.log(t),t.opacity=0;var e=cc.fadeTo(.5,215);t.runAction(e),setTimeout(function(){cc.director.loadScene("endScene")},510)}}),cc._RF.pop()},{Score:"Score"}],InitScene:[function(t,e,n){"use strict";cc._RF.push(e,"1a672DPMPlJu5K5wqEhsL+j","InitScene");var i=t("GameScene");cc.Class({"extends":cc.Component,properties:{gameScene:{"default":null,type:i},overlay:{"default":null,type:cc.Node},startBtn:{"default":null,type:cc.Node},bubble:{"default":null,type:cc.Node}},onLoad:function(){cc.TextUtils.label_lastWordRex=/([a-zA-Z0-9ÄÖÜäöüßěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤéèçàùêâîôûа-яА-ЯЁё]+|\S)$/,cc.TextUtils.label_lastEnglish=/[a-zA-Z0-9ÄÖÜäöüßěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤéèçàùêâîôûаíìÍÌïÁÀáàÉÈÒÓòóŐőÙÚŰúűñÑæÆœŒÃÂãÔõ-яА-ЯЁё]+$/,cc.TextUtils.label_firsrEnglish=/^[a-zA-Z0-9ÄÖÜäöüßěščřžýáíéóúůťďňĚŠČŘŽÁÍÉÓÚŤéèçàùêâîôûаíìÍÌïÁÀáàÉÈÒÓòóŐőÙÚŰúűñÑæÆœŒÃÂãÔõ-яА-ЯЁё]/},start:function(){},startGame:function(){this.startBtn.active=!1,this.bubble.active=!1,this.overlay.runAction(new cc.fadeOut(.25));var t=this;setTimeout(function(){t.node.active=!1},.25),this.gameScene.startGame()}}),cc._RF.pop()},{GameScene:"GameScene"}],MTEvents:[function(t,e,n){"use strict";cc._RF.push(e,"20a8b7s+RJF9a/8hhfPlE+c","MTEvents");var i={};i.CLICKED="mt-event-clicked",i.START="mt-event-start",i.COMPLETE="mt-event-complete",i.CANCEL="mt-event-cancel",i.DESTROY="mt-event-destroy",i.EVALED="mt-event-evaled",i.SELECTED="mt-event-selected",i["default"]=null,window.MTEvents=i,cc._RF.pop()},{}],Manace:[function(t,e,n){"use strict";cc._RF.push(e,"e5b8dwBUUVJA77PCNML2fZ2","Manace"),cc.Class({"extends":cc.Component,properties:{sprite:{"default":null,visible:!1},box:{"default":null,visible:!1}},onLoad:function(){this.node.active=!1,this.sprite=this.node.getComponent(cc.Sprite),this.box=this.node.getBoundingBoxToWorld(),console.log(this.box),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},_onMouseMoveIn:function(t){cc._canvas.style.cursor="pointer"},_onMouseMoveOut:function(t){cc._canvas.style.cursor="default"}}),cc._RF.pop()},{}],MapIcons:[function(t,e,n){"use strict";cc._RF.push(e,"bb9ccvswLJL3Ig6WDKY5z7N","MapIcons"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},start:function(){for(var t=this.node.children,e=0;e<t.length;e++){var n=t[e],i=n.scale;console.log(i),n.scale=1.5*i,n.opacity=0;var o=cc.scaleTo(1,i);o.easing(cc.easeElasticOut());var s=cc.sequence(cc.delayTime(.05+.75*Math.random()),cc.spawn(cc.fadeIn(.25),o));n.runAction(s)}}}),cc._RF.pop()},{}],Score:[function(t,e,n){"use strict";cc._RF.push(e,"4648fad1eNDjolncrTz5p74","Score"),cc.Class({"extends":cc.Component,properties:{crossSprite:{"default":null,type:cc.SpriteFrame},circleSprite:{"default":null,type:cc.SpriteFrame},checkSprite:{"default":null,type:cc.SpriteFrame},buttons:{visible:!1,"default":null}},onLoad:function(){this.buttons=[]},addScore:function(t){var e=new cc.Node,n=e.addComponent(cc.Sprite);switch(t){case 0:n.spriteFrame=this.crossSprite;break;case 1:n.spriteFrame=this.circleSprite;break;case 2:n.spriteFrame=this.checkSprite}this.node.addChild(e),e.x=30*this.buttons.length,this.buttons.push(e)}}),cc._RF.pop()},{}],SourceDialog:[function(t,e,n){"use strict";cc._RF.push(e,"c1a92kE8z9C7KOwjP8hmcgQ","SourceDialog");var i=t("SourceLink");cc.Class({"extends":cc.Component,properties:{linkButton:{"default":null,type:cc.Prefab}},onLoad:function(){},showLinks:function(t){for(var e=this.node.children,n=0;n<e.length;n++){var o=e[n];o&&0===o.name.indexOf("b_")&&o.destroy()}var s=this.node.getChildByName("bgAdd");s.active=t.length>3;for(var c=0,n=0;n<t.length;n++){var a=cc.instantiate(this.linkButton);a.name="b_"+n;var r=a.getComponent(i),h=t[n];r.setText(h),r.data=h,a.y=c-a.height/2+180,c-=a.height,this.node.addChild(a),a.on("clicked",this.onClicked,this)}},onClicked:function(t){var e=t.currentTarget.getComponent(i).data;window.open(e.url,"_blank")},close:function(){this.node.active=!1}}),cc._RF.pop()},{SourceLink:"SourceLink"}],SourceLink:[function(t,e,n){"use strict";cc._RF.push(e,"626c0+cWztI0KLdpajXCCqU","SourceLink"),cc.Class({"extends":cc.Component,properties:{nameNode:{"default":null,type:cc.Node},title:{"default":null,type:cc.Node},bg:{"default":null,type:cc.Node},activeTouch:{visible:!1,"default":null},data:{visible:!1,"default":null}},onLoad:function(){this.enableTouch(),this.bg.skewX=4*Math.random()-2},enableTouch:function(){this.node.on("touchstart",this._onTouchStart,this),this.node.on("touchend",this._onTouchEnd,this),this.node.on("touchcancel",this._onTouchCancel,this),this.node.on("mouseenter",this._onMouseEnter,this),this.node.on("mouseleave",this._onMouseLeave,this)},_onMouseEnter:function(){this.bg.opacity=255,this.nameNode.color=this.getClr("#ceb184")},_onMouseLeave:function(){this.bg.opacity=0,this.nameNode.color=this.getClr("#282634")},_onTouchStart:function(t){return this.activeTouch={time:Date.now,start:t.touch.getLocation()},!1},getClr:function(t){var e=new cc.Color;return e.fromHEX(t),e},setText:function(t){var e=t.name;e.length>50&&(e=e.substring(0,50)+"..."),this.nameNode.getComponent(cc.Label).string=e,this.title.getComponent(cc.Label).string=t.title.substring(0,32)},_onTouchEnd:function(t){if(this.activeTouch){var e=t.touch.getLocation(),n=Math.abs(this.activeTouch.start.x-e.x);if(n>30)return!1;var i=Date.now-this.activeTouch.time;return!(i>.5)&&(this.node.emit("clicked"),this.activeTouch=null,!0)}},_onTouchCancel:function(){this.activeTouch=null}}),cc._RF.pop()},{}],Swaying:[function(t,e,n){"use strict";cc._RF.push(e,"1f16aeQZSNIh46myzneMmKT","Swaying"),cc.Class({"extends":cc.Component,properties:{amountY:6,amountX:2,speedX:2,speedY:1.3,sway:{visible:!1,"default":null},swayTime:{visible:!1,"default":0},startPos:{visible:!1,"default":null},paused:!1},onLoad:function(){this.startPos={x:this.node.x,y:this.node.y},this.sway={},this.sway.sin1=Math.random()*this.speedY*.75+.25*this.speedY,this.sway.sin2=Math.random()*this.speedX*.25+.75*this.speedX,this.sway.sin3=Math.random()/2+.3,this.sway.offset=0},pause:function(){this.paused=!0},resume:function(){this.swayTime=0,this.startPos={x:this.node.x,y:this.node.y},this.paused=!1},update:function(t){this.paused||(this.node.x=this.startPos.x+this.amountX*Math.sin(this.sway.sin2*this.swayTime+this.sway.offset)+Math.sin(this.sway.sin3*this.swayTime),this.node.y=this.startPos.y+this.amountY*Math.sin(this.sway.sin1*this.swayTime+this.sway.offset),this.swayTime+=t)}}),cc._RF.pop()},{}]},{},["AnswerButton","ClickWithLabelMove","ClickWithScale","Dialog1","EvaluationDialog","Factman","GameManager","MTEvents","Manace","MapIcons","Score","SourceDialog","SourceLink","Swaying","EndScene","GameScene","InitScene"]);